<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Shape Area and Drawing</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background-color: #f4f4f4;
    }

    h1 {
      color: #333;
      text-align: center;
    }

    .container {
      display: flex;
      justify-content: space-around;
      margin-bottom: 20px;
    }

    .form-section {
      padding: 10px;
      background-color: #fff;
      border-radius: 8px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .form-section input, .form-section button {
      margin: 5px;
      padding: 10px;
      border-radius: 4px;
      border: 1px solid #ddd;
    }

    .form-section button {
      background-color: #4CAF50;
      color: white;
      cursor: pointer;
    }

    .form-section button:hover {
      background-color: #45a049;
    }

    #area {
      text-align: center;
      font-size: 18px;
      margin-top: 20px;
      color: #333;
    }

    canvas {
      border: 1px solid #ddd;
      margin-top: 20px;
      background-color: #f9f9f9;
    }

    .clear-btn {
      display: block;
      margin: 20px auto;
      padding: 10px 20px;
      background-color: #f44336;
      color: white;
      font-size: 16px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }

    .clear-btn:hover {
      background-color: #e53935;
    }

  </style>
  <script>
    class Shape {
      constructor(x, y) {
        this.x = x;
        this.y = y;
      }

      // Abstract method for drawing shapes on the canvas
      draw(ctx) {
        throw "Method 'draw()' should be implemented by subclasses.";
      }

      // Abstract method for displaying size on the shape
      displaySize(ctx) {
        throw "Method 'displaySize()' should be implemented by subclasses.";
      }
    }

    class Rectangle extends Shape {
      constructor(x, y, width, height) {
        super(x, y);
        this._width = width;
        this._height = height;
      }

      // Getter for width
      get width() {
        return this._width;
      }

      // Setter for width
      set width(value) {
        if (value > 0) {
          this._width = value;
        } else {
          alert("Width must be positive!");
        }
      }

      // Getter for height
      get height() {
        return this._height;
      }

      // Setter for height
      set height(value) {
        if (value > 0) {
          this._height = value;
        } else {
          alert("Height must be positive!");
        }
      }

      // Getter for area
      get area() {
        return this._width * this._height;
      }

      // Draw rectangle on the canvas
      draw(ctx) {
        ctx.beginPath();
        ctx.rect(this.x, this.y, this._width, this._height);
        ctx.fillStyle = "lightblue";
        ctx.fill();
        ctx.stroke();
      }

      // Display dimensions on the rectangle
      displaySize(ctx) {
        ctx.fillStyle = "black";
        ctx.font = "14px Arial";
        ctx.fillText(`Width: ${this._width}`, this.x + this._width / 2 - 40, this.y + this._height + 20);
        ctx.fillText(`Height: ${this._height}`, this.x + this._width / 2 - 40, this.y + this._height + 40);
      }
    }

    class Circle extends Shape {
      constructor(x, y, radius) {
        super(x, y);
        this._radius = radius;
      }

      // Getter for radius
      get radius() {
        return this._radius;
      }

      // Setter for radius
      set radius(value) {
        if (value > 0) {
          this._radius = value;
        } else {
          alert("Radius must be positive!");
        }
      }

      // Getter for area
      get area() {
        return Math.PI * Math.pow(this._radius, 2);
      }

      // Draw circle on the canvas
      draw(ctx) {
        ctx.beginPath();
        ctx.arc(this.x, this.y, this._radius, 0, 2 * Math.PI);
        ctx.fillStyle = "lightgreen";
        ctx.fill();
        ctx.stroke();
      }

      // Display dimensions on the circle
      displaySize(ctx) {
        ctx.fillStyle = "black";
        ctx.font = "14px Arial";
        ctx.fillText(`Radius: ${this._radius}`, this.x - 40, this.y + this._radius + 20);
      }
    }

    class Square extends Rectangle {
      constructor(x, y, sideLength) {
        super(x, y, sideLength, sideLength);
      }

      // Override the draw method for square
      draw(ctx) {
        ctx.beginPath();
        ctx.rect(this.x, this.y, this._width, this._height);
        ctx.fillStyle = "lightcoral";
        ctx.fill();
        ctx.stroke();
      }

      // Override the displaySize method for square
      displaySize(ctx) {
        ctx.fillStyle = "black";
        ctx.font = "14px Arial";
        ctx.fillText(`Side: ${this._width}`, this.x + this._width / 2 - 40, this.y + this._height + 20);
      }
    }

    let shapes = [];
    let ctx;

    function createRectangle() {
      const width = parseFloat(document.getElementById('width').value);
      const height = parseFloat(document.getElementById('height').value);
      const rectangle = new Rectangle(50, 50, width, height);
      shapes.push(rectangle);
      displayArea();
      drawShapes();
    }

    function createCircle() {
      const radius = parseFloat(document.getElementById('radius').value);
      const circle = new Circle(150, 150, radius);
      shapes.push(circle);
      displayArea();
      drawShapes();
    }

    function createSquare() {
      const sideLength = parseFloat(document.getElementById('sideLength').value);
      const square = new Square(250, 50, sideLength);
      shapes.push(square);
      displayArea();
      drawShapes();
    }

    function displayArea() {
      if (shapes.length > 0) {
        const lastShape = shapes[shapes.length - 1];
        document.getElementById('area').textContent = `Last Shape Area: ${lastShape.area.toFixed(2)}`;
      }
    }

    function drawShapes() {
      ctx.clearRect(0, 0, canvas.width, canvas.height); // Clear previous shapes
      shapes.forEach(shape => {
        shape.draw(ctx); // Draw each shape
        shape.displaySize(ctx); // Display dimensions for each shape
      });
    }

    function clearCanvas() {
      shapes = [];
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      document.getElementById('area').textContent = "Last Shape Area: ";
    }

    window.onload = function() {
      const canvasElement = document.getElementById('canvas');
      ctx = canvasElement.getContext('2d');
    };
  </script>
</head>
<body>
  <h1>Shape Area and Drawing</h1>

  <div class="container">
    <div class="form-section">
      <h3>Rectangle</h3>
      <label for="width">Enter width: </label>
      <input type="number" id="width" placeholder="Width" />
      <label for="height">Enter height: </label>
      <input type="number" id="height" placeholder="Height" />
      <button onclick="createRectangle()">Create Rectangle</button>
    </div>

    <div class="form-section">
      <h3>Circle</h3>
      <label for="radius">Enter radius: </label>
      <input type="number" id="radius" placeholder="Radius" />
      <button onclick="createCircle()">Create Circle</button>
    </div>

    <div class="form-section">
      <h3>Square</h3>
      <label for="sideLength">Enter side length: </label>
      <input type="number" id="sideLength" placeholder="Side length" />
      <button onclick="createSquare()">Create Square</button>
    </div>
  </div>

  <h2 id="area">Last Shape Area: </h2>

  <canvas id="canvas" width="500" height="500"></canvas>

  <button class="clear-btn" onclick="clearCanvas()">Clear All Shapes</button>
</body>
</html>
